
   
name: Test Action

on:
  pull_request:

jobs:
  plan:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout sources
        uses: actions/checkout@v3
    
      - name: Checkout test suite
        uses: actions/checkout@v3
        with:
          name: liatrio/gatling-maven-showcase
          ref: initial-pr

      - name: Run Gatling Suite from local folder
        uses: ./
        with:
          testDir: ./gatling-maven-showcase
      
      - name: Run Gatling Suite from distant repository
        uses: ./
        with:
          testDir: https://github.com/liatrio/gatling-maven-showcase.git
          repoRef: initial-pr
